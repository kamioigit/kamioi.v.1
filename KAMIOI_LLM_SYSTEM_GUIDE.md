# ü§ñ KAMIOI LLM SYSTEM - COMPLETE GUIDE

## ‚úÖ **HOW THE SYSTEM WORKS NOW (FULLY AUTOMATIC)**

The Kamioi LLM system is now **completely automatic** and **admin-controlled**. Here's exactly how it works:

---

## üéØ **CORE CONCEPT: "KAMIOI INVESTS AUTOMATICALLY FOR YOU"**

### **The Vision:**
1. **User uploads bank statement** ‚Üí LLM automatically maps transactions to stocks
2. **LLM makes intelligent guesses** ‚Üí Even for unknown merchants
3. **Admin controls everything** ‚Üí From one central dashboard
4. **Zero manual work** ‚Üí System handles everything automatically

---

## üöÄ **HOW THE SYSTEM WORKS:**

### **1. AUTOMATIC MAPPING (Happens on Every Transaction Upload):**

#### **Step 1: Upload Transaction**
- User uploads bank statement to ANY dashboard (User/Family/Business)
- System automatically processes each transaction

#### **Step 2: LLM Automatic Attempt**
- **First:** Search approved mappings for exact matches
- **Second:** If no match, LLM makes intelligent guesses for common merchants
- **Third:** If still no match, mark as "needs-recognition"

#### **Step 3: Intelligent Guessing**
The LLM automatically recognizes these merchants:
- **Target** ‚Üí TGT (General Merchandise)
- **Walmart** ‚Üí WMT (Retail)
- **Amazon** ‚Üí AMZN (E-commerce)
- **Starbucks** ‚Üí SBUX (Food & Beverage)
- **Apple** ‚Üí AAPL (Technology)
- **Netflix** ‚Üí NFLX (Entertainment)
- **Uber** ‚Üí UBER (Transportation)
- **And 8 more common merchants...**

### **2. ADMIN CONTROL (Everything from Admin Dashboard):**

#### **Admin LLM Center - 3 Buttons:**

1. **"Apply LLM Mappings" (Green Brain Button)**
   - Applies existing approved mappings to pending transactions
   - Uses your bulk upload data and approved mappings
   - **When to use:** After approving new mappings

2. **"LLM Auto-Attempt" (Blue Zap Button)**
   - Makes LLM attempt intelligent guessing on ALL unmapped transactions
   - Uses pattern recognition for common merchants
   - **When to use:** When you want LLM to try mapping everything

3. **"Train LLM Model" (Orange Brain Button)**
   - Approves pending mappings to train the system
   - **When to use:** After reviewing user submissions

---

## üéä **STEP-BY-STEP INSTRUCTIONS:**

### **For Maximum Automation:**

#### **Step 1: Upload Your Mappings**
1. **Go to Admin LLM Center**
2. **Click "Bulk Upload"**
3. **Upload your CSV with merchant mappings**
4. **System stores them as "pending"**

#### **Step 2: Approve Mappings**
1. **Go to "Pending Mappings" tab**
2. **Review each mapping**
3. **Click ‚úÖ to approve or ‚ùå to deny**
4. **Approved mappings become available for automatic use**

#### **Step 3: Let LLM Work Automatically**
1. **Users upload bank statements** (any dashboard)
2. **LLM automatically maps known merchants**
3. **LLM makes intelligent guesses for common merchants**
4. **Unknown merchants stay "pending" for review**

#### **Step 4: Admin Cleanup (Optional)**
1. **Click "LLM Auto-Attempt"** to make LLM try harder
2. **Click "Apply LLM Mappings"** to apply new approved mappings
3. **Review remaining "needs-recognition" transactions**

---

## üîß **TROUBLESHOOTING:**

### **"Failed to fetch" Error:**
- **Problem:** Backend server not running
- **Solution:** Start backend with `python simple_app.py` in backend folder

### **LLM Not Mapping:**
- **Problem:** No approved mappings or patterns
- **Solution:** 
  1. Upload mappings via "Bulk Upload"
  2. Approve them in "Pending Mappings"
  3. Click "Apply LLM Mappings"

### **Transactions Still Pending:**
- **Problem:** LLM couldn't find matches
- **Solution:** 
  1. Click "LLM Auto-Attempt" for intelligent guessing
  2. Manually approve more mappings
  3. Add new patterns to the system

---

## üìä **SYSTEM STATUS INDICATORS:**

### **Admin LLM Center Dashboard:**
- **Total Mappings:** Shows your approved mappings count
- **Daily Processed:** Shows transactions processed today
- **Accuracy Rate:** Shows LLM success rate
- **Auto-Approval Rate:** Shows automatic mapping success

### **Transaction Statuses:**
- **"completed"** = Successfully mapped and invested
- **"llm_attempted"** = LLM made intelligent guess
- **"needs-recognition"** = Needs manual review
- **"pending"** = Being processed

---

## üéØ **BEST PRACTICES:**

### **For Maximum Automation:**
1. **Upload comprehensive mapping data** via bulk upload
2. **Approve mappings quickly** to train the system
3. **Let LLM auto-attempt** for intelligent guessing
4. **Monitor accuracy rates** and improve patterns

### **For Quality Control:**
1. **Review LLM attempts** before final approval
2. **Manually approve complex mappings**
3. **Add new patterns** as you discover them
4. **Monitor system performance** regularly

---

## üöÄ **THE RESULT:**

### **Fully Automatic System:**
- **Users upload bank statements** ‚Üí LLM automatically maps to stocks
- **Admin controls everything** from one dashboard
- **System learns and improves** over time
- **Zero manual work** for routine transactions

### **Your Target Example:**
- **Upload bank statement** with "TARGET STORE" transaction
- **LLM automatically recognizes** "target" pattern
- **Maps to TGT ticker** with "General Merchandise" category
- **Calculates stock purchase** automatically
- **Status becomes "llm_attempted"** or "completed"

---

## üéâ **YOU NOW HAVE A FULLY AUTOMATIC INVESTMENT SYSTEM!**

The LLM works automatically, you control everything from the admin dashboard, and the system gets smarter over time. Users just upload their bank statements and Kamioi invests automatically for them! üöÄ‚ú®

